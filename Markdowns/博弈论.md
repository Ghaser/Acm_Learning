# SG函数

## 接替模型

1. 把原游戏分解成多个独立的子游戏，则原游戏的SG函数值是其所有子游戏的SG函数的异或

2. 分别考虑每一个子游戏，计算其SG值

   - 可选步数为1-m的连续整数，直接取模即可SG(x)=x%(m+1)

   - 可选步数为任意步，SG(x)=x

   - 可选步数为一系列不连续的数，有以下方法

     - 打表：

       ```c++
       void getSG(int n)
       {
           
       }
       ```

       

     - DFS



# 常见模型

## 一、巴什博弈

### 1.问题模型

​	n个物品，两个人轮流取物，每次至少取一个，最多取m个，取光者得胜。

### 2.解决思路

​	当n=m+1时，无论先拿者拿走多少，后取者能够一次性拿走剩余的物品，从而取胜。故当n%（m+1）= 0 时，后取者必胜。

​	否则，若n=（m+1）*r+s (s<=m)，先取者拿走s个物品后,后者拿走x个，先取者再拿走m+1-k个，则必定能够获胜。

### 3.结论

​	n%（m+1）=0  后者必胜

​	否者 先手必胜

## 二、尼姆博弈

### 1.问题模型

​	有三堆若干个物品，两个人轮流从某一堆中取任意多的物品，规定每次至少取一个，多者不限，最后取光者得胜

### 2.解决思路

​	用（a，b，c）表示某种局势，显然（0，0，0）为第一种奇异局势，无论谁面对奇异局势都必然失败。第二种奇异局势是（0，n，n），只要与对手拿走一样多的物品，最后都会导致（0，0，0）

### 3.结论

​	（a，b，c）是必败态等价于a^b^c=0

### 4.推广

- ​	面对非奇异局势（a，b，c），只需将c变为a^b即可，要将c变为a^b，只需从c中减去c - (a^b)即可
- 当石子堆数为n堆时，则推广为当对每堆的数目进行异或之后值为零是必败态

## 三、Fibonacci博弈

### 1.问题模型

​	有一堆个数为n的石子，游戏双方轮流取石子，满足：

（1）先手不能在第一次把所有石子取完

（2）之后每次可以取的石子数介于1到对手刚取的石子数的2倍之间（包括两侧端点），约定取走最后一个石子的人为赢家。

### 2.解决思路